:NewParser
:NewDefs

let x = 1
//│ let x: 1
//│ IR:
//│ Basic Block entry:
//│   x1 = 1
//│ 
//│ 
//│ WASM:
//│ Code(List(I32Const(1), SetLocal(0), Comment(TODO)))
//│ x
//│   = 1

// FIXME
let x = {field1: 0, field2: 1}
//│ let x: {field1: 0, field2: 1}
//│ /!!!\ Uncaught error: scala.NotImplementedError: an implementation is missing

// FIXME
if true then 1 else 0
let x = 3
//│ let x: 3
//│ 0 | 1
//│ /!!!\ Uncaught error: scala.NotImplementedError: an implementation is missing

// FIXME
class IntLit(head: Int)
let l = IntLit(2)
if l is
    IntLit(0) then
        let x = 0
    IntLit(1) then
        let x = 1
    IntLit(2) then
        let x = 2
    else
        let x = 3
let y = 1
//│ class IntLit(head: Int)
//│ let l: IntLit
//│ let y: 1
//│ undefined
//│ /!!!\ Uncaught error: scala.NotImplementedError: an implementation is missing

// TODO
class Test[A](a: A)
Test(0).a
//│ class Test[A](a: A)
//│ 0
//│ IR:
//│ Basic Block entry:
//│   new_Test1 = alloc Test
//│   app_result = call new_Test1 (0)
//│   a = getfield app_result, a
//│ 
//│ /!!!\ Uncaught error: scala.NotImplementedError: an implementation is missing
